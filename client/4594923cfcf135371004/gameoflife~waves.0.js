(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(t,e,c){"use strict";const s="100,50 75,93.33333333333334 25,93.33333333333334 0,50 25,6.666666666666667 75,6.666666666666667",r=t=>t.map(t=>t.join(",")).join(" "),i=t=>t.split(" ").map(t=>t.split(",").map(Number));var n={field:(t,e,c,s)=>(t=>Array.from({length:t}).map((t,e)=>e))(t*e).map(((t,e,c,s)=>r=>({x:r%t,y:Math.floor(r/e),v:s(r,c)}))(t,e,c,s)),scale:(t=1)=>r(i(s).map(e=>e.map(e=>t*e))),serialize:r,deserialize:i,hexagonPoints:s,bigHexagonPoints:"300,150 225,280 75,280 0,150 75,20 225,20"};var o={field:(t,e,c,s)=>Array.from({length:t*e}).map((e,r)=>({x:r%t,y:Math.floor(r/t),v:s(r,c)}))};const a=t=>t>=1;function*l(t=1/0,e=0){for(var c=e;;)yield c++%t}const h=(t,e=0)=>{const c=l(t.length,e);return{next:()=>t[c.next().value]}},b=[["#ffffff","#efefef"],["#ff6738","#18c8ff","#efaf03","#60f370"]];var j={name:"Game of Life",algorithm:{name:"GoL",run:{rectangular:(t,e)=>c=>{const{moore:s}=y(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,a,s);return{[t]:2===e?c[t]:e>2&&e<4?1:0}}).reduce((t,e)=>Object.assign(t,e),{})},hexagonal:(t,e)=>c=>{const{hex:s}=y(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,a,s);return{[t]:2===e?c[t]:e>2&&e<4?1:0}}).reduce((t,e)=>Object.assign(t,e),{})}}},field:[],fieldtypes:h([{fieldtype:"rectangular"},{fieldtype:"hexagonal"}],0),statecolors:b[0],stati:b};const f=t=>1===t,O=[["#ffffff","#dfdfdf","#efefef"],["#ff6738","#18c8ff","#efaf03","#60f370"]];var d={name:"Waves",algorithm:{name:"Waves",run:{rectangular:(t,e)=>c=>{const{vneumann:s}=y(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,f,s),r=c[t];return{[t]:e>0||r>0?(r+1)%3:r}}).reduce((t,e)=>Object.assign(t,e),{})},hexagonal:(t,e)=>c=>{const{hex:s}=y(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,f,s),r=c[t];return{[t]:e>0||r>0?(r+1)%3:r}}).reduce((t,e)=>Object.assign(t,e),{})}}},field:[],fieldtypes:h([{fieldtype:"rectangular"},{fieldtype:"hexagonal"}],1),statecolors:O[0],stati:O};const u=t=>t.split("x").map(Number),m=t=>t.reduce((t,e)=>Object.assign(t,{[`${e.x}x${e.y}`]:e.v}),{}),p=t=>Object.entries(t).map(([t,e])=>{const[c,s]=u(t);return{x:c,y:s,v:e}}),y=(t,e)=>{if(0===t||0===e)throw Error("choose 1 instead of 0");const c=e=>(e-1+t)%t,s=e=>(e+1)%t,r=t=>(t-1+e)%e,i=t=>(t+1)%e,n=([t,e],[n,o])=>{return[s(t)===n||c(t)===n,i(e)===o||r(e)===o]},o=(t,e)=>c=>{const[s,r]=u(c),[i,o]=n([s,r],[t,e]);return s===t&&o||r===e&&i};return{hex:(t,e)=>n=>{const[a,l]=u(n),h=s(a)===t||c(a)===t,[b,j]=[r(l)===e,i(l)===e],f=o(t,e)(n);return(t%2==0?b:j)&&h||f},moore:(t,e)=>c=>{const[s,r]=u(c),[i,a]=n([s,r],[t,e]);return i&&a||o(t,e)(c)},vneumann:o,left:c,right:s,up:r,down:i}},v=(t,e,c,s="100")=>`hsla(${t},${e}%,${c}%,${s}%)`,g=function(t,e,c){if(t.store){const s=t.store.get();e in s&&!s[e]&&t.fire(c)}};c.d(e,"e",function(){return _}),c.d(e,"j",function(){return $}),c.d(e,"c",function(){return x}),c.d(e,"f",function(){return n}),c.d(e,!1,function(){return l}),c.d(e,"h",function(){return h}),c.d(e,"k",function(){return g}),c.d(e,!1,function(){return o}),c.d(e,"a",function(){return j}),c.d(e,"b",function(){return d}),c.d(e,"g",function(){return m}),c.d(e,"d",function(){return p}),c.d(e,"i",function(){return y}),c.d(e,!1,function(){return v});const _=t=>{const e={hexagonal:n.field,rectangular:o.field};return t in e?e[t]:e.rectangular},x=t=>(e,c,s)=>{const[r,i]=u(t),n=!!s&&s(r,i);return Object.entries(e).filter(([e,s])=>e!==t&&!n||n(e)&&c(s)).reduce((t,e)=>t+1,0)},$=(t,e)=>Math.floor(Math.random()*t)%e},function(t,e,c){"use strict";var s=c(0),r=c(2),i={toggleFieldResize(){const{fieldsizes:t}=this.store.get(),{x:e,y:c,size:s}=t.next();this.store.set({x:e,y:c,size:s})}};function n(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["x","y"]),t.data),this.store._add(this,["x","y"]),this._intro=!0,this._handlers.destroy=[s.B],t.root||(this._oncreate=[]),this._fragment=function(t,e){var c,r;function i(e){t.toggleFieldResize()}return{c(){c=Object(s.m)("input"),this.h()},l(t){c=Object(s.j)(t,"INPUT",{type:!0,value:!0},!1),Object(s.i)(c).forEach(s.r),this.h()},h(){Object(s.c)(c,"click",i),Object(s.D)(c,"type","button"),c.value=r=`[${e.$x}x${e.$y}]`},m(t,e){Object(s.w)(c,t,e)},p(t,e){(t.$x||t.$y)&&r!==(r=`[${e.$x}x${e.$y}]`)&&(c.value=r)},d(t){t&&Object(s.r)(c),Object(s.C)(c,"click",i)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const t=Object(r.h)([{x:8,y:8,size:.5},{x:16,y:16,size:.25}],0),{x:e,y:c,size:s}=t.next();this.store.set({x:e,y:c,size:s,fieldsizes:t})}).call(this),this.fire("update",{changed:Object(s.f)({},this._state),current:this._state})}),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor),Object(s.h)(this._oncreate)}}Object(s.e)(n.prototype,s.z),Object(s.e)(n.prototype,i);var o=n,a={toggleFieldType(){const{fieldtypes:t}=this.store.get(),{fieldtype:e}=t.next();this.store.set({fieldtype:e})}};function l(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["fieldtype"]),t.data),this.store._add(this,["fieldtype"]),this._intro=!0,this._handlers.destroy=[s.B],this._fragment=function(t,e){var c;function r(e){t.toggleFieldType()}return{c(){c=Object(s.m)("input"),this.h()},l(t){c=Object(s.j)(t,"INPUT",{type:!0,value:!0},!1),Object(s.i)(c).forEach(s.r),this.h()},h(){Object(s.c)(c,"click",r),Object(s.D)(c,"type","button"),c.value=e.$fieldtype},m(t,e){Object(s.w)(c,t,e)},p(t,e){t.$fieldtype&&(c.value=e.$fieldtype)},d(t){t&&Object(s.r)(c),Object(s.C)(c,"click",r)}}}(this,this._state),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor)}}Object(s.e)(l.prototype,s.z),Object(s.e)(l.prototype,a);var h=l;const b=Object(r.h)([{_id:0,ms:1e3,name:"slow"},{_id:1,ms:500,name:"normal"},{_id:2,ms:250,name:"fast"},{_id:3,ms:100,name:"superfast"}]);let j;var f={toggleInterval(t){console.log("toggleInterval called");const e=b.next();clearInterval(j),j=setInterval(r.k,e.ms,this,"stopped","next"),this.store.set({interval:e})}};function O(){clearInterval(j)}function d(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["interval"]),t.data),this.store._add(this,["interval"]),this._intro=!0,this._handlers.destroy=[O,s.B],t.root||(this._oncreate=[]),this._fragment=function(t,e){var c,r;function i(c){t.toggleInterval(e.$interval)}return{c(){c=Object(s.m)("input"),this.h()},l(t){c=Object(s.j)(t,"INPUT",{type:!0,value:!0},!1),Object(s.i)(c).forEach(s.r),this.h()},h(){Object(s.c)(c,"click",i),Object(s.D)(c,"type","button"),c.value=r=`${e.$interval&&e.$interval.name}`},m(t,e){Object(s.w)(c,t,e)},p(t,s){e=s,t.$interval&&r!==(r=`${e.$interval&&e.$interval.name}`)&&(c.value=r)},d(t){t&&Object(s.r)(c),Object(s.C)(c,"click",i)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const t=b.next();this.store.set({interval:t});const{stopped:e}=this.store.get();j=setInterval(r.k,t.ms,this,"stopped","next")}).call(this),this.fire("update",{changed:Object(s.f)({},this._state),current:this._state})}),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor),Object(s.h)(this._oncreate)}}Object(s.e)(d.prototype,s.z),Object(s.e)(d.prototype,f);var u=d;function m(t,e){var c,r,i;return{c(){c=Object(s.m)("div"),r=Object(s.m)("span"),i=Object(s.p)("⌛"),this.h()},l(t){c=Object(s.j)(t,"DIV",{class:!0},!1);var e=Object(s.i)(c);r=Object(s.j)(e,"SPAN",{},!1);var n=Object(s.i)(r);i=Object(s.k)(n,"⌛"),n.forEach(s.r),e.forEach(s.r),this.h()},h(){c.className="svelte-pmzsy5"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r)},d(t){t&&Object(s.r)(c)}}}function p(t,e){var c,r,i;return{c(){c=Object(s.m)("div"),r=Object(s.m)("span"),i=Object(s.p)("⌛"),this.h()},l(t){c=Object(s.j)(t,"DIV",{style:!0,class:!0},!1);var e=Object(s.i)(c);r=Object(s.j)(e,"SPAN",{},!1);var n=Object(s.i)(r);i=Object(s.k)(n,"⌛"),n.forEach(s.r),e.forEach(s.r),this.h()},h(){Object(s.E)(c,"transform","rotate(180deg)"),c.className="svelte-pmzsy5"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r)},d(t){t&&Object(s.r)(c)}}}function y(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["stopped"]),t.data),this.store._add(this,["stopped"]),this._intro=!0,this._handlers.destroy=[s.B],this._slotted=t.slots||{},document.getElementById("svelte-pmzsy5-style")||function(){var t=Object(s.m)("style");t.id="svelte-pmzsy5-style",t.textContent='div.svelte-pmzsy5 button,\n  input[type="button"]{background-color:lightblue;border-radius:6px;border-color:darkcyan}button.svelte-pmzsy5:d{background-color:darkviolet}.control-panel.svelte-pmzsy5{display:flex;justify-items:center;justify-content:flex-start;background:seashell;padding:4px;margin:2px}.section.svelte-pmzsy5{border-left:1px solid greenyellow}',Object(s.d)(t,document.head)}(),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,e){var c,r,i,n,a,l,b,j,f,O,d,y,v,g,_,x,$,z,k=t._slotted.default,w=new o({root:t.root,store:t.store});function D(e){t.fire("init")}var E=new h({root:t.root,store:t.store});function I(e){t.fire("next")}function N(t){return t.$stopped?m:p}var B=N(e),C=B(t,e);function P(c){t.store.set({stopped:!e.$stopped})}var T=new u({root:t.root,store:t.store});return T.on("next",function(e){t.fire("next")}),{c(){c=Object(s.m)("div"),r=Object(s.m)("div"),w._fragment.c(),i=Object(s.p)("\n  "),n=Object(s.m)("div"),a=Object(s.m)("input"),l=Object(s.p)("\n  "),b=Object(s.m)("div"),E._fragment.c(),j=Object(s.p)("\n  "),f=Object(s.m)("div"),O=Object(s.m)("input"),d=Object(s.p)("\n  "),y=Object(s.m)("div"),v=Object(s.m)("button"),C.c(),g=Object(s.p)("\n  "),_=Object(s.m)("div"),T._fragment.c(),x=Object(s.p)("\n"),this.h()},l(t){c=Object(s.j)(t,"DIV",{class:!0},!1);var e=Object(s.i)(c);r=Object(s.j)(e,"DIV",{class:!0},!1);var o=Object(s.i)(r);w._fragment.l(o),o.forEach(s.r),i=Object(s.k)(e,"\n  "),n=Object(s.j)(e,"DIV",{class:!0},!1);var h=Object(s.i)(n);a=Object(s.j)(h,"INPUT",{type:!0,value:!0},!1),Object(s.i)(a).forEach(s.r),h.forEach(s.r),l=Object(s.k)(e,"\n  "),b=Object(s.j)(e,"DIV",{class:!0},!1);var u=Object(s.i)(b);E._fragment.l(u),u.forEach(s.r),j=Object(s.k)(e,"\n  "),f=Object(s.j)(e,"DIV",{class:!0},!1);var m=Object(s.i)(f);O=Object(s.j)(m,"INPUT",{type:!0,value:!0},!1),Object(s.i)(O).forEach(s.r),m.forEach(s.r),d=Object(s.k)(e,"\n  "),y=Object(s.j)(e,"DIV",{class:!0},!1);var p=Object(s.i)(y);v=Object(s.j)(p,"BUTTON",{class:!0},!1);var $=Object(s.i)(v);C.l($),$.forEach(s.r),p.forEach(s.r),g=Object(s.k)(e,"\n  "),_=Object(s.j)(e,"DIV",{class:!0},!1);var z=Object(s.i)(_);T._fragment.l(z),z.forEach(s.r),e.forEach(s.r),x=Object(s.k)(t,"\n"),this.h()},h(){r.className="section svelte-pmzsy5",Object(s.c)(a,"click",D),Object(s.D)(a,"type","button"),a.value="init",n.className="section svelte-pmzsy5",b.className="section svelte-pmzsy5",Object(s.c)(O,"click",I),Object(s.D)(O,"type","button"),O.value="next",f.className="section svelte-pmzsy5",Object(s.c)(v,"click",P),v.className="svelte-pmzsy5",y.className="section svelte-pmzsy5",_.className="section svelte-pmzsy5",c.className="control-panel svelte-pmzsy5"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),w._mount(r,null),Object(s.d)(i,c),Object(s.d)(n,c),Object(s.d)(a,n),Object(s.d)(l,c),Object(s.d)(b,c),E._mount(b,null),Object(s.d)(j,c),Object(s.d)(f,c),Object(s.d)(O,f),Object(s.d)(d,c),Object(s.d)(y,c),Object(s.d)(v,y),C.m(v,null),Object(s.d)(g,c),Object(s.d)(_,c),T._mount(_,null),Object(s.w)(x,t,e),k&&(Object(s.w)($||($=Object(s.l)()),t,e),Object(s.w)(k,t,e),Object(s.w)(z||(z=Object(s.l)()),t,e))},p(c,s){B!==(B=N(e=s))&&(C.d(1),(C=B(t,e)).c(),C.m(v,null))},d(t){t&&Object(s.r)(c),w.destroy(),Object(s.C)(a,"click",D),E.destroy(),Object(s.C)(O,"click",I),C.d(),Object(s.C)(v,"click",P),T.destroy(),t&&Object(s.r)(x),k&&(Object(s.A)($,z,k),Object(s.r)($),Object(s.r)(z))}}}(this,this._state),this.root._oncreate.push(()=>{(function(){this.store.set({stopped:!1}),setTimeout(t=>t.fire("init"),200,this)}).call(this),this.fire("update",{changed:Object(s.f)({},this._state),current:this._state})}),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor),this._lock=!0,Object(s.h)(this._beforecreate),Object(s.h)(this._oncreate),Object(s.h)(this._aftercreate),this._lock=!1}}Object(s.e)(y.prototype,s.z);e.a=y},function(t,e,c){"use strict";var s=c(0);function r(t,e){var c,r,i,n,o=e.key,a=e.value;return{c(){c=Object(s.m)("li"),r=Object(s.p)(o),i=Object(s.p)(": "),n=Object(s.p)(a),this.h()},l(t){c=Object(s.j)(t,"LI",{class:!0},!1);var e=Object(s.i)(c);r=Object(s.k)(e,o),i=Object(s.k)(e,": "),n=Object(s.k)(e,a),e.forEach(s.r),this.h()},h(){c.className="svelte-e73a0l"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,c),Object(s.d)(n,c)},p(t,e){t.els&&o!==(o=e.key)&&(r.data=o),t.els&&a!==(a=e.value)&&(n.data=a)},d(t){t&&Object(s.r)(c)}}}function i(t,e,c){const s=Object.create(t);return s.key=e[c][0],s.value=e[c][1],s.each_value=e,s.each_index=c,s}function n(t){if(Object(s.v)(this,t),this._state=Object(s.e)({els:[]},t.data),this._recompute({elements:1},this._state),this._intro=!0,document.getElementById("svelte-e73a0l-style")||function(){var t=Object(s.m)("style");t.id="svelte-e73a0l-style",t.textContent="ul.svelte-e73a0l{list-style:none}li.svelte-e73a0l{float:left;padding-right:2em}",Object(s.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,n=e.els,o=[],a=0;a<n.length;a+=1)o[a]=r(0,i(e,n,a));return{c(){c=Object(s.m)("ul");for(var t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){c=Object(s.j)(t,"UL",{class:!0},!1);for(var e=Object(s.i)(c),r=0;r<o.length;r+=1)o[r].l(e);e.forEach(s.r),this.h()},h(){c.className="svelte-e73a0l"},m(t,e){Object(s.w)(c,t,e);for(var r=0;r<o.length;r+=1)o[r].m(c,null)},p(t,e){if(t.els){n=e.els;for(var s=0;s<n.length;s+=1){const a=i(e,n,s);o[s]?o[s].p(t,a):(o[s]=r(0,a),o[s].c(),o[s].m(c,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){t&&Object(s.r)(c),Object(s.q)(o,t)}}}(0,this._state),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor)}}Object(s.e)(n.prototype,s.z),n.prototype._recompute=function(t,e){t.elements&&this._differs(e.els,e.els=function({elements:t}){return Object.entries(t)}(e))&&(t.els=!0)};var o=n;function a(t,e){return e<t.length?t[e]:t[0]}function l(t,e){var c,r,i,n,o,l;return{c(){c=Object(s.o)("g"),r=Object(s.o)("use"),this.h()},l(t){c=Object(s.j)(t,"g",{transform:!0},!0);var e=Object(s.i)(c);r=Object(s.j)(e,"use",{x:!0,y:!0,href:!0,fill:!0},!0),Object(s.i)(r).forEach(s.r),e.forEach(s.r),this.h()},h(){r._svelte={component:t,ctx:e},Object(s.c)(r,"click",b),Object(s.D)(r,"x",i=e.f.x*e.cx*e.$size),Object(s.D)(r,"y",n=e.f.y*e.cy*e.$size),Object(s.D)(r,"href","#rectangle"),Object(s.D)(r,"fill",o=a(e.$statecolors,e.f.v)),Object(s.D)(c,"transform",l="matrix(2,0,0,2,"+e.f.x+","+e.f.y+")")},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c)},p(t,e){r._svelte.ctx=e,(t.field||t.cx||t.$size)&&i!==(i=e.f.x*e.cx*e.$size)&&Object(s.D)(r,"x",i),(t.field||t.cy||t.$size)&&n!==(n=e.f.y*e.cy*e.$size)&&Object(s.D)(r,"y",n),(t.$statecolors||t.field)&&o!==(o=a(e.$statecolors,e.f.v))&&Object(s.D)(r,"fill",o),t.field&&l!==(l="matrix(2,0,0,2,"+e.f.x+","+e.f.y+")")&&Object(s.D)(c,"transform",l)},d(t){t&&Object(s.r)(c),Object(s.C)(r,"click",b)}}}function h(t,e,c){const s=Object.create(t);return s.f=e[c],s.each_value=e,s.i=c,s}function b(t){const{component:e,ctx:c}=this._svelte;e.fire("cell",{x:c.f.x,y:c.f.y,s:c.$statecolors.length})}function j(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["size","x","y","statecolors"]),t.data),this.store._add(this,["size","x","y","statecolors"]),this._recompute({$size:1,$x:1,$y:1},this._state),this._intro=!0,this._handlers.destroy=[s.B],document.getElementById("svelte-kox9bz-style")||function(){var t=Object(s.m)("style");t.id="svelte-kox9bz-style",t.textContent="svg.svelte-kox9bz{width:100%;height:500px;border:1px solid white}",Object(s.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,r,i,n,o,a,b,j=e.field,f=[],O=0;O<j.length;O+=1)f[O]=l(t,h(e,j,O));return{c(){c=Object(s.o)("svg"),r=Object(s.o)("defs"),i=Object(s.o)("rect"),a=Object(s.o)("g");for(var t=0;t<f.length;t+=1)f[t].c();this.h()},l(t){c=Object(s.j)(t,"svg",{width:!0,height:!0,viewBox:!0,class:!0},!0);var e=Object(s.i)(c);r=Object(s.j)(e,"defs",{},!0);var n=Object(s.i)(r);i=Object(s.j)(n,"rect",{id:!0,width:!0,height:!0,"stroke-opacity":!0,stroke:!0},!0),Object(s.i)(i).forEach(s.r),n.forEach(s.r),a=Object(s.j)(e,"g",{},!0);for(var o=Object(s.i)(a),l=0;l<f.length;l+=1)f[l].l(o);o.forEach(s.r),e.forEach(s.r),this.h()},h(){Object(s.D)(i,"id","rectangle"),Object(s.D)(i,"width",n=e.cx*e.$size),Object(s.D)(i,"height",o=e.cy*e.$size),Object(s.D)(i,"stroke-opacity","0.2"),Object(s.D)(i,"stroke","#efefef"),Object(s.D)(c,"width","100%"),Object(s.D)(c,"height","100%"),Object(s.D)(c,"viewBox",b="0 0 "+e.x+" "+e.y),Object(s.D)(c,"class","svelte-kox9bz")},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r),Object(s.d)(a,c);for(var n=0;n<f.length;n+=1)f[n].m(a,null)},p(e,r){if((e.cx||e.$size)&&n!==(n=r.cx*r.$size)&&Object(s.D)(i,"width",n),(e.cy||e.$size)&&o!==(o=r.cy*r.$size)&&Object(s.D)(i,"height",o),e.field||e.cx||e.$size||e.cy||e.$statecolors){j=r.field;for(var O=0;O<j.length;O+=1){const c=h(r,j,O);f[O]?f[O].p(e,c):(f[O]=l(t,c),f[O].c(),f[O].m(a,null))}for(;O<f.length;O+=1)f[O].d(1);f.length=j.length}(e.x||e.y)&&b!==(b="0 0 "+r.x+" "+r.y)&&Object(s.D)(c,"viewBox",b)},d(t){t&&Object(s.r)(c),Object(s.q)(f,t)}}}(this,this._state),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor)}}Object(s.e)(j.prototype,s.z),j.prototype._recompute=function(t,e){(t.$size||t.$x)&&this._differs(e.x,e.x=function({$size:t,$x:e}){return t*e*100}(e))&&(t.x=!0),(t.$size||t.$y)&&this._differs(e.y,e.y=function({$size:t,$y:e}){return t*e*100}(e))&&(t.y=!0)};var f=j,O=c(2);const{scale:d}=O.f;function u(t,e){return e<t.length?t[e]:t[0]}function m(t,e){var c,r,i,n,o;return{c(){c=Object(s.o)("g"),r=Object(s.o)("use"),this.h()},l(t){c=Object(s.j)(t,"g",{transform:!0},!0);var e=Object(s.i)(c);r=Object(s.j)(e,"use",{href:!0,fill:!0,x:!0,y:!0},!0),Object(s.i)(r).forEach(s.r),e.forEach(s.r),this.h()},h(){r._svelte={component:t,ctx:e},Object(s.c)(r,"click",y),Object(s.D)(r,"href","#hexagon"),Object(s.D)(r,"fill",i=u(e.$statecolors,e.f.v)),Object(s.D)(r,"x",0),Object(s.D)(r,"y",n=e.f.x%2==1?6.66*e.$size:50*e.$size),Object(s.D)(c,"transform",o="matrix(1,0,0,1,"+75*e.f.x*e.$size+","+86.66*e.f.y*e.$size+")")},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c)},p(t,e){r._svelte.ctx=e,(t.$statecolors||t.field)&&i!==(i=u(e.$statecolors,e.f.v))&&Object(s.D)(r,"fill",i),(t.field||t.$size)&&n!==(n=e.f.x%2==1?6.66*e.$size:50*e.$size)&&Object(s.D)(r,"y",n),(t.field||t.$size)&&o!==(o="matrix(1,0,0,1,"+75*e.f.x*e.$size+","+86.66*e.f.y*e.$size+")")&&Object(s.D)(c,"transform",o)},d(t){t&&Object(s.r)(c),Object(s.C)(r,"click",y)}}}function p(t,e,c){const s=Object.create(t);return s.f=e[c],s.each_value=e,s.i=c,s}function y(t){const{component:e,ctx:c}=this._svelte;e.fire("cell",{x:c.f.x,y:c.f.y,s:c.$statecolors.length})}function v(t){if(Object(s.v)(this,t),this._state=Object(s.e)(Object(s.e)(this.store._init(["size","x","y","statecolors"]),{field:[],hexagon:d()}),t.data),this.store._add(this,["size","x","y","statecolors"]),this._recompute({$size:1,$x:1,$y:1},this._state),this._intro=!0,this._handlers.destroy=[s.B],document.getElementById("svelte-kox9bz-style")||function(){var t=Object(s.m)("style");t.id="svelte-kox9bz-style",t.textContent="svg.svelte-kox9bz{width:100%;height:500px;border:1px solid white}",Object(s.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,r,i,n,o,a=e.field,l=[],h=0;h<a.length;h+=1)l[h]=m(t,p(e,a,h));return{c(){c=Object(s.o)("svg"),r=Object(s.o)("defs"),i=Object(s.o)("polygon"),n=Object(s.o)("g");for(var t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){c=Object(s.j)(t,"svg",{width:!0,height:!0,viewBox:!0,class:!0},!0);var e=Object(s.i)(c);r=Object(s.j)(e,"defs",{},!0);var o=Object(s.i)(r);i=Object(s.j)(o,"polygon",{id:!0,points:!0,opacity:!0,"stroke-opacity":!0,stroke:!0},!0),Object(s.i)(i).forEach(s.r),o.forEach(s.r),n=Object(s.j)(e,"g",{transform:!0},!0);for(var a=Object(s.i)(n),h=0;h<l.length;h+=1)l[h].l(a);a.forEach(s.r),e.forEach(s.r),this.h()},h(){Object(s.D)(i,"id","hexagon"),Object(s.D)(i,"points",e.hexagon),Object(s.D)(i,"opacity","1"),Object(s.D)(i,"stroke-opacity","0.2"),Object(s.D)(i,"stroke","#efefef"),Object(s.D)(n,"transform","matrix(1.35,0,0,1.195,0,0)"),Object(s.D)(c,"width","100%"),Object(s.D)(c,"height","100%"),Object(s.D)(c,"viewBox",o="0 8 "+e.x+" "+e.y),Object(s.D)(c,"class","svelte-kox9bz")},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r),Object(s.d)(n,c);for(var o=0;o<l.length;o+=1)l[o].m(n,null)},p(e,r){if(e.hexagon&&Object(s.D)(i,"points",r.hexagon),e.field||e.$size||e.$statecolors){a=r.field;for(var h=0;h<a.length;h+=1){const c=p(r,a,h);l[h]?l[h].p(e,c):(l[h]=m(t,c),l[h].c(),l[h].m(n,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}(e.x||e.y)&&o!==(o="0 8 "+r.x+" "+r.y)&&Object(s.D)(c,"viewBox",o)},d(t){t&&Object(s.r)(c),Object(s.q)(l,t)}}}(this,this._state),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor)}}Object(s.e)(v.prototype,s.z),v.prototype._recompute=function(t,e){t.$size&&this._differs(e.hexagon,e.hexagon=function({$size:t}){return d(t)}(e))&&(t.hexagon=!0),(t.$size||t.$x)&&this._differs(e.x,e.x=function({$size:t,$x:e}){return 100*t*e}(e))&&(t.x=!0),(t.$size||t.$y)&&this._differs(e.y,e.y=function({$size:t,$y:e}){return 100*t*e}(e))&&(t.y=!0)};var g=v,_={cell({x:t,y:e,s:c}){const{field:s}=this.store.get(),r=Object(O.g)(s),i=`${t}x${e}`;r[i]=(r[i]+1)%c,this.store.set({field:Object(O.d)(r)})}};function x(t,e){var c={cx:"86.66",cy:"100",field:e.$field},s=new g({root:t.root,store:t.store,data:c});return s.on("cell",function(e){t.cell(e)}),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var c={};t.$field&&(c.field=e.$field),s._set(c)},d(t){s.destroy(t)}}}function $(t,e){var c={cx:"50",cy:"50",field:e.$field},s=new f({root:t.root,store:t.store,data:c});return s.on("cell",function(e){t.cell(e)}),{c(){s._fragment.c()},l(t){s._fragment.l(t)},m(t,e){s._mount(t,e)},p(t,e){var c={};t.$field&&(c.field=e.$field),s._set(c)},d(t){s.destroy(t)}}}function z(t,e){var c,r,i,n,o,a,l=e._s;return{c(){c=Object(s.m)("li"),r=Object(s.m)("span"),i=Object(s.p)("["),n=Object(s.p)(l),o=Object(s.p)("]"),this.h()},l(t){c=Object(s.j)(t,"LI",{class:!0},!1);var e=Object(s.i)(c);r=Object(s.j)(e,"SPAN",{style:!0},!1);var a=Object(s.i)(r);i=Object(s.k)(a,"["),n=Object(s.k)(a,l),o=Object(s.k)(a,"]"),a.forEach(s.r),e.forEach(s.r),this.h()},h(){r.style.cssText=a=`color: ${e._s};`,c.className="svelte-1ouiy65"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r),Object(s.d)(n,r),Object(s.d)(o,r)},p(t,e){t.$statecolors&&l!==(l=e._s)&&(n.data=l),t.$statecolors&&a!==(a=`color: ${e._s};`)&&(r.style.cssText=a)},d(t){t&&Object(s.r)(c)}}}function k(t,e){for(var c,r=e.$statecolors,i=[],n=0;n<r.length;n+=1)i[n]=z(0,w(e,r,n));return{c(){c=Object(s.m)("ul");for(var t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){c=Object(s.j)(t,"UL",{class:!0},!1);for(var e=Object(s.i)(c),r=0;r<i.length;r+=1)i[r].l(e);e.forEach(s.r),this.h()},h(){c.className="svelte-1ouiy65"},m(t,e){Object(s.w)(c,t,e);for(var r=0;r<i.length;r+=1)i[r].m(c,null)},p(t,e){if(t.$statecolors){r=e.$statecolors;for(var s=0;s<r.length;s+=1){const n=w(e,r,s);i[s]?i[s].p(t,n):(i[s]=z(0,n),i[s].c(),i[s].m(c,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(t){t&&Object(s.r)(c),Object(s.q)(i,t)}}}function w(t,e,c){const s=Object.create(t);return s._s=e[c],s.each_value=e,s._s_index=c,s}function D(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["fieldtype","field","x","y","statecolors"]),t.data),this.store._add(this,["fieldtype","field","x","y","statecolors"]),this._intro=!0,this._handlers.destroy=[s.B],document.getElementById("svelte-1ouiy65-style")||function(){var t=Object(s.m)("style");t.id="svelte-1ouiy65-style",t.textContent="span.overview.svelte-1ouiy65{width:10vw;color:violet;font-weight:700;font-size:0.5em}ul.svelte-1ouiy65{font-weight:300;font-style:italic;list-style:none}li.svelte-1ouiy65{display:block;float:left}.field-container.svelte-1ouiy65{padding:0;width:100%;height:auto;overflow:hidden;box-sizing:content-box}",Object(s.d)(t,document.head)}(),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var c,r,i,n,a,l,h="hexagonal"===e.$fieldtype&&x(t,e),b="rectangular"===e.$fieldtype&&$(t,e),j={elements:{$x:e.$x,$y:e.$y,cells:e.$x*e.$y}},f=new o({root:t.root,store:t.store,data:j}),O=e.$statecolors&&k(0,e);return{c(){c=Object(s.m)("div"),h&&h.c(),r=Object(s.p)(" "),b&&b.c(),i=Object(s.p)("\n\n"),n=Object(s.m)("span"),f._fragment.c(),a=Object(s.p)("\n  "),l=Object(s.m)("div"),O&&O.c(),this.h()},l(t){c=Object(s.j)(t,"DIV",{class:!0},!1);var e=Object(s.i)(c);h&&h.l(e),r=Object(s.k)(e," "),b&&b.l(e),e.forEach(s.r),i=Object(s.k)(t,"\n\n"),n=Object(s.j)(t,"SPAN",{class:!0},!1);var o=Object(s.i)(n);f._fragment.l(o),a=Object(s.k)(o,"\n  "),l=Object(s.j)(o,"DIV",{},!1);var j=Object(s.i)(l);O&&O.l(j),j.forEach(s.r),o.forEach(s.r),this.h()},h(){c.className="field-container svelte-1ouiy65",n.className="overview svelte-1ouiy65"},m(t,e){Object(s.w)(c,t,e),h&&h.m(c,null),Object(s.d)(r,c),b&&b.m(c,null),Object(s.w)(i,t,e),Object(s.w)(n,t,e),f._mount(n,null),Object(s.d)(a,n),Object(s.d)(l,n),O&&O.m(l,null)},p(e,s){"hexagonal"===s.$fieldtype?h?h.p(e,s):((h=x(t,s)).c(),h.m(c,r)):h&&(h.d(1),h=null),"rectangular"===s.$fieldtype?b?b.p(e,s):((b=$(t,s)).c(),b.m(c,null)):b&&(b.d(1),b=null);var i={};(e.$x||e.$y)&&(i.elements={$x:s.$x,$y:s.$y,cells:s.$x*s.$y}),f._set(i),s.$statecolors?O?O.p(e,s):((O=k(0,s)).c(),O.m(l,null)):O&&(O.d(1),O=null)},d(t){t&&Object(s.r)(c),h&&h.d(),b&&b.d(),t&&(Object(s.r)(i),Object(s.r)(n)),f.destroy(),O&&O.d()}}}(this,this._state),this.root._oncreate.push(()=>{(function(){this.store.set({field:[],size:.5,x:8,y:8})}).call(this),this.fire("update",{changed:Object(s.f)({},this._state),current:this._state})}),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor),this._lock=!0,Object(s.h)(this._beforecreate),Object(s.h)(this._oncreate),Object(s.h)(this._aftercreate),this._lock=!1}}Object(s.e)(D.prototype,s.z),Object(s.e)(D.prototype,_);var E=D;function I(t){if(Object(s.v)(this,t),this._state=Object(s.e)(this.store._init(["name","fieldtype","x","y","size"]),t.data),this.store._add(this,["name","fieldtype","x","y","size"]),this._intro=!0,this._handlers.destroy=[s.B],document.getElementById("svelte-1kshz2b-style")||function(){var t=Object(s.m)("style");t.id="svelte-1kshz2b-style",t.textContent=".container.svelte-1kshz2b{border:1px solid orange;background-color:#5f5f7f;color:white}",Object(s.d)(t,document.head)}(),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var c,r,i,n,o,a,l,h,b,j,f,O,d,u,m,p,y,v,g=new E({root:t.root,store:t.store});return{c(){c=Object(s.m)("div"),r=Object(s.m)("span"),i=Object(s.p)("["),n=Object(s.p)(e.id),o=Object(s.p)(" - "),a=Object(s.p)(e.$name),l=Object(s.p)("] "),h=Object(s.p)(e.$fieldtype),b=Object(s.p)(' CA of type: "'),j=Object(s.p)(e.type),f=Object(s.p)(", ["),O=Object(s.p)(e.$x),d=Object(s.p)("x"),u=Object(s.p)(e.$y),m=Object(s.p)("] "),p=Object(s.p)(e.$size),y=Object(s.p)('x"'),v=Object(s.p)("\n  "),g._fragment.c(),this.h()},l(t){c=Object(s.j)(t,"DIV",{class:!0},!1);var _=Object(s.i)(c);r=Object(s.j)(_,"SPAN",{},!1);var x=Object(s.i)(r);i=Object(s.k)(x,"["),n=Object(s.k)(x,e.id),o=Object(s.k)(x," - "),a=Object(s.k)(x,e.$name),l=Object(s.k)(x,"] "),h=Object(s.k)(x,e.$fieldtype),b=Object(s.k)(x,' CA of type: "'),j=Object(s.k)(x,e.type),f=Object(s.k)(x,", ["),O=Object(s.k)(x,e.$x),d=Object(s.k)(x,"x"),u=Object(s.k)(x,e.$y),m=Object(s.k)(x,"] "),p=Object(s.k)(x,e.$size),y=Object(s.k)(x,'x"'),x.forEach(s.r),v=Object(s.k)(_,"\n  "),g._fragment.l(_),_.forEach(s.r),this.h()},h(){c.className="container svelte-1kshz2b"},m(t,e){Object(s.w)(c,t,e),Object(s.d)(r,c),Object(s.d)(i,r),Object(s.d)(n,r),Object(s.d)(o,r),Object(s.d)(a,r),Object(s.d)(l,r),Object(s.d)(h,r),Object(s.d)(b,r),Object(s.d)(j,r),Object(s.d)(f,r),Object(s.d)(O,r),Object(s.d)(d,r),Object(s.d)(u,r),Object(s.d)(m,r),Object(s.d)(p,r),Object(s.d)(y,r),Object(s.d)(v,c),g._mount(c,null)},p(t,e){t.id&&(n.data=e.id),t.$name&&(a.data=e.$name),t.$fieldtype&&(h.data=e.$fieldtype),t.type&&(j.data=e.type),t.$x&&(O.data=e.$x),t.$y&&(u.data=e.$y),t.$size&&(p.data=e.$size)},d(t){t&&Object(s.r)(c),g.destroy()}}}(this,this._state),t.target){var e=Object(s.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(s.r),this._mount(t.target,t.anchor),this._lock=!0,Object(s.h)(this._beforecreate),Object(s.h)(this._oncreate),Object(s.h)(this._aftercreate),this._lock=!1}}Object(s.e)(I.prototype,s.z);e.a=I}]]);
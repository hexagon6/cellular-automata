(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(t,e,c){"use strict";const r="100,50 75,93.33333333333334 25,93.33333333333334 0,50 25,6.666666666666667 75,6.666666666666667",s=t=>t.map(t=>t.join(",")).join(" "),i=t=>t.split(" ").map(t=>t.split(",").map(Number));var n={field:(t,e,c,r)=>(t=>Array.from({length:t}).map((t,e)=>e))(t*e).map(((t,e,c,r)=>s=>({x:s%t,y:Math.floor(s/e),v:r(s,c)}))(t,e,c,r)),scale:(t=1)=>s(i(r).map(e=>e.map(e=>t*e))),serialize:s,deserialize:i,hexagonPoints:r,bigHexagonPoints:"300,150 225,280 75,280 0,150 75,20 225,20"};var o={field:(t,e,c,r)=>Array.from({length:t*e}).map((e,s)=>({x:s%t,y:Math.floor(s/t),v:r(s,c)}))};const a=t=>t>=1;function*l(t=1/0,e=0){for(var c=e;;)yield c++%t}const h=(t,e=0)=>{const c=l(t.length,e);return{next:()=>t[c.next().value]}},f=[["#ffffff","#efefef"],["#ff6738","#18c8ff","#efaf03","#60f370"]];var j={name:"Game of Life",algorithm:{name:"GoL",run:{rectangular:(t,e)=>c=>{const{moore:r}=v(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,a,r);return{[t]:2===e?c[t]:e>2&&e<4?1:0}}).reduce((t,e)=>Object.assign(t,e),{})},hexagonal:(t,e)=>c=>{const{hex:r}=v(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,a,r);return{[t]:2===e?c[t]:e>2&&e<4?1:0}}).reduce((t,e)=>Object.assign(t,e),{})}}},field:[],fieldtypes:h([{fieldtype:"rectangular"},{fieldtype:"hexagonal"}],0),statecolors:f[0],stati:f};const b=t=>1===t,O=[["#ffffff","#dfdfdf","#efefef"],["#ff6738","#18c8ff","#efaf03","#60f370"]];var d={name:"Waves",algorithm:{name:"Waves",run:{rectangular:(t,e)=>c=>{const{vneumann:r}=v(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,b,r),s=c[t];return{[t]:e>0||s>0?(s+1)%3:s}}).reduce((t,e)=>Object.assign(t,e),{})},hexagonal:(t,e)=>c=>{const{hex:r}=v(t,e);return Object.keys(c).map(t=>{const e=x(t)(c,b,r),s=c[t];return{[t]:e>0||s>0?(s+1)%3:s}}).reduce((t,e)=>Object.assign(t,e),{})}}},field:[],fieldtypes:h([{fieldtype:"rectangular"},{fieldtype:"hexagonal"}],1),statecolors:O[0],stati:O};const u=t=>t.split("x").map(Number),p=t=>t.reduce((t,e)=>Object.assign(t,{[`${e.x}x${e.y}`]:e.v}),{}),g=t=>Object.entries(t).map(([t,e])=>{const[c,r]=u(t);return{x:c,y:r,v:e}}),v=(t,e)=>{if(0===t||0===e)throw Error("choose 1 instead of 0");const c=e=>(e-1+t)%t,r=e=>(e+1)%t,s=t=>(t-1+e)%e,i=t=>(t+1)%e,n=([t,e],[n,o])=>{return[r(t)===n||c(t)===n,i(e)===o||s(e)===o]},o=(t,e)=>c=>{const[r,s]=u(c),[i,o]=n([r,s],[t,e]);return r===t&&o||s===e&&i};return{hex:(t,e)=>n=>{const[a,l]=u(n),h=r(a)===t||c(a)===t,[f,j]=[s(l)===e,i(l)===e],b=o(t,e)(n);return(t%2==0?f:j)&&h||b},moore:(t,e)=>c=>{const[r,s]=u(c),[i,a]=n([r,s],[t,e]);return i&&a||o(t,e)(c)},vneumann:o,left:c,right:r,up:s,down:i}},m=(t,e,c,r="100")=>`hsla(${t},${e}%,${c}%,${r}%)`,y=function(t,e,c){if(t.store){const r=t.store.get();e in r&&!r[e]&&t.fire(c)}};c.d(e,"e",function(){return _}),c.d(e,"j",function(){return $}),c.d(e,"c",function(){return x}),c.d(e,"f",function(){return n}),c.d(e,!1,function(){return l}),c.d(e,"h",function(){return h}),c.d(e,"k",function(){return y}),c.d(e,!1,function(){return o}),c.d(e,"a",function(){return j}),c.d(e,"b",function(){return d}),c.d(e,"g",function(){return p}),c.d(e,"d",function(){return g}),c.d(e,"i",function(){return v}),c.d(e,!1,function(){return m});const _=t=>{const e={hexagonal:n.field,rectangular:o.field};return t in e?e[t]:e.rectangular},x=t=>(e,c,r)=>{const[s,i]=u(t),n=!!r&&r(s,i);return Object.entries(e).filter(([e,r])=>e!==t&&!n||n(e)&&c(r)).reduce((t,e)=>t+1,0)},$=(t,e)=>Math.floor(Math.random()*t)%e},function(t,e,c){"use strict";var r=c(0),s=c(2),i={toggleFieldResize(){const{fieldsizes:t}=this.store.get(),{x:e,y:c,size:r}=t.next();this.store.set({x:e,y:c,size:r})}};function n(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["x","y"]),t.data),this.store._add(this,["x","y"]),this._intro=!0,this._handlers.destroy=[r.B],t.root||(this._oncreate=[]),this._fragment=function(t,e){var c,s;function i(e){t.toggleFieldResize()}return{c(){c=Object(r.m)("input"),this.h()},l(t){c=Object(r.j)(t,"INPUT",{type:!0,value:!0},!1),Object(r.i)(c).forEach(r.r),this.h()},h(){Object(r.c)(c,"click",i),Object(r.D)(c,"type","button"),c.value=s=`[${e.$x}x${e.$y}]`},m(t,e){Object(r.w)(c,t,e)},p(t,e){(t.$x||t.$y)&&s!==(s=`[${e.$x}x${e.$y}]`)&&(c.value=s)},d(t){t&&Object(r.r)(c),Object(r.C)(c,"click",i)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const t=Object(s.h)([{x:8,y:8,size:.5},{x:16,y:16,size:.25}],0),{x:e,y:c,size:r}=t.next();this.store.set({x:e,y:c,size:r,fieldsizes:t})}).call(this),this.fire("update",{changed:Object(r.f)({},this._state),current:this._state})}),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor),Object(r.h)(this._oncreate)}}Object(r.e)(n.prototype,r.z),Object(r.e)(n.prototype,i);var o=n,a={toggleFieldType(){const{fieldtypes:t}=this.store.get(),{fieldtype:e}=t.next();this.store.set({fieldtype:e})}};function l(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["fieldtype"]),t.data),this.store._add(this,["fieldtype"]),this._intro=!0,this._handlers.destroy=[r.B],this._fragment=function(t,e){var c;function s(e){t.toggleFieldType()}return{c(){c=Object(r.m)("input"),this.h()},l(t){c=Object(r.j)(t,"INPUT",{type:!0,value:!0},!1),Object(r.i)(c).forEach(r.r),this.h()},h(){Object(r.c)(c,"click",s),Object(r.D)(c,"type","button"),c.value=e.$fieldtype},m(t,e){Object(r.w)(c,t,e)},p(t,e){t.$fieldtype&&(c.value=e.$fieldtype)},d(t){t&&Object(r.r)(c),Object(r.C)(c,"click",s)}}}(this,this._state),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor)}}Object(r.e)(l.prototype,r.z),Object(r.e)(l.prototype,a);var h=l;const f=Object(s.h)([{_id:0,ms:1e3,name:"slow"},{_id:1,ms:500,name:"normal"},{_id:2,ms:250,name:"fast"},{_id:3,ms:100,name:"superfast"}]);let j;var b={toggleInterval(t){console.log("toggleInterval called");const e=f.next();clearInterval(j),j=setInterval(s.k,e.ms,this,"stopped","next"),this.store.set({interval:e})}};function O(){clearInterval(j)}function d(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["interval"]),t.data),this.store._add(this,["interval"]),this._intro=!0,this._handlers.destroy=[O,r.B],t.root||(this._oncreate=[]),this._fragment=function(t,e){var c,s;function i(c){t.toggleInterval(e.$interval)}return{c(){c=Object(r.m)("input"),this.h()},l(t){c=Object(r.j)(t,"INPUT",{type:!0,value:!0},!1),Object(r.i)(c).forEach(r.r),this.h()},h(){Object(r.c)(c,"click",i),Object(r.D)(c,"type","button"),c.value=s=`${e.$interval&&e.$interval.name}`},m(t,e){Object(r.w)(c,t,e)},p(t,r){e=r,t.$interval&&s!==(s=`${e.$interval&&e.$interval.name}`)&&(c.value=s)},d(t){t&&Object(r.r)(c),Object(r.C)(c,"click",i)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const t=f.next();this.store.set({interval:t});const{stopped:e}=this.store.get();j=setInterval(s.k,t.ms,this,"stopped","next")}).call(this),this.fire("update",{changed:Object(r.f)({},this._state),current:this._state})}),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor),Object(r.h)(this._oncreate)}}Object(r.e)(d.prototype,r.z),Object(r.e)(d.prototype,b);var u=d;function p(t,e){var c,s,i;return{c(){c=Object(r.m)("div"),s=Object(r.m)("span"),i=Object(r.p)("⌛"),this.h()},l(t){c=Object(r.j)(t,"DIV",{class:!0},!1);var e=Object(r.i)(c);s=Object(r.j)(e,"SPAN",{},!1);var n=Object(r.i)(s);i=Object(r.k)(n,"⌛"),n.forEach(r.r),e.forEach(r.r),this.h()},h(){c.className="svelte-189pkg1"},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s)},d(t){t&&Object(r.r)(c)}}}function g(t,e){var c,s,i;return{c(){c=Object(r.m)("div"),s=Object(r.m)("span"),i=Object(r.p)("⌛"),this.h()},l(t){c=Object(r.j)(t,"DIV",{style:!0,class:!0},!1);var e=Object(r.i)(c);s=Object(r.j)(e,"SPAN",{},!1);var n=Object(r.i)(s);i=Object(r.k)(n,"⌛"),n.forEach(r.r),e.forEach(r.r),this.h()},h(){Object(r.E)(c,"transform","rotate(180deg)"),c.className="svelte-189pkg1"},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s)},d(t){t&&Object(r.r)(c)}}}function v(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["stopped"]),t.data),this.store._add(this,["stopped"]),this._intro=!0,this._handlers.destroy=[r.B],this._slotted=t.slots||{},document.getElementById("svelte-189pkg1-style")||function(){var t=Object(r.m)("style");t.id="svelte-189pkg1-style",t.textContent='div.svelte-189pkg1 button,\n  input[type="button"]{background-color:lightblue;border-radius:6px;border-color:darkcyan;width:7em;height:100%;font-size:2rem;margin:2px 1px;padding:4px 16px;color:white;text-shadow:0px 0px 4px #efaf03;border-radius:10px}button.svelte-189pkg1:d{background-color:darkviolet}.control-panel.svelte-189pkg1{display:flex;flex-direction:column;justify-content:space-evenly;align-content:center;padding:4px;margin:2px}.wrapper.svelte-189pkg1{display:flex;align-content:flex-start;width:100%;height:100%}.section.svelte-189pkg1{height:100%}@media(max-width: 600px){.control-panel.svelte-189pkg1{flex:auto;flex-direction:row}.wrapper.svelte-189pkg1{display:block !important}div.svelte-189pkg1 button, input[type="button"]{font-size:0.8em;padding:0 1em;height:5em;width:100%}}',Object(r.d)(t,document.head)}(),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,e){var c,s,i,n,a,l,f,j,b,O,d,v,m,y,_,x,$,k,z=t._slotted.default,w=new o({root:t.root,store:t.store});function D(e){t.fire("init")}var E=new h({root:t.root,store:t.store});function I(e){t.fire("next")}function N(t){return t.$stopped?p:g}var B=N(e),C=B(t,e);function T(c){t.store.set({stopped:!e.$stopped})}var V=new u({root:t.root,store:t.store});return V.on("next",function(e){t.fire("next")}),{c(){c=Object(r.m)("div"),s=Object(r.m)("div"),i=Object(r.m)("div"),w._fragment.c(),n=Object(r.p)("\n    "),a=Object(r.m)("div"),l=Object(r.m)("input"),f=Object(r.p)("\n    "),j=Object(r.m)("div"),E._fragment.c(),b=Object(r.p)("\n    "),O=Object(r.m)("div"),d=Object(r.m)("input"),v=Object(r.p)("\n    "),m=Object(r.m)("div"),y=Object(r.m)("button"),C.c(),_=Object(r.p)("\n    "),x=Object(r.m)("div"),V._fragment.c(),$=Object(r.p)("\n  "),this.h()},l(t){c=Object(r.j)(t,"DIV",{class:!0},!1);var e=Object(r.i)(c);s=Object(r.j)(e,"DIV",{class:!0},!1);var o=Object(r.i)(s);i=Object(r.j)(o,"DIV",{class:!0},!1);var h=Object(r.i)(i);w._fragment.l(h),h.forEach(r.r),n=Object(r.k)(o,"\n    "),a=Object(r.j)(o,"DIV",{class:!0},!1);var u=Object(r.i)(a);l=Object(r.j)(u,"INPUT",{type:!0,value:!0},!1),Object(r.i)(l).forEach(r.r),u.forEach(r.r),f=Object(r.k)(o,"\n    "),j=Object(r.j)(o,"DIV",{class:!0},!1);var p=Object(r.i)(j);E._fragment.l(p),p.forEach(r.r),b=Object(r.k)(o,"\n    "),O=Object(r.j)(o,"DIV",{class:!0},!1);var g=Object(r.i)(O);d=Object(r.j)(g,"INPUT",{type:!0,value:!0},!1),Object(r.i)(d).forEach(r.r),g.forEach(r.r),v=Object(r.k)(o,"\n    "),m=Object(r.j)(o,"DIV",{class:!0},!1);var k=Object(r.i)(m);y=Object(r.j)(k,"BUTTON",{class:!0},!1);var z=Object(r.i)(y);C.l(z),z.forEach(r.r),k.forEach(r.r),_=Object(r.k)(o,"\n    "),x=Object(r.j)(o,"DIV",{class:!0},!1);var D=Object(r.i)(x);V._fragment.l(D),D.forEach(r.r),o.forEach(r.r),$=Object(r.k)(e,"\n  "),e.forEach(r.r),this.h()},h(){i.className="section svelte-189pkg1",Object(r.c)(l,"click",D),Object(r.D)(l,"type","button"),l.value="init",a.className="section svelte-189pkg1",j.className="section svelte-189pkg1",Object(r.c)(d,"click",I),Object(r.D)(d,"type","button"),d.value="next",O.className="section svelte-189pkg1",Object(r.c)(y,"click",T),y.className="svelte-189pkg1",m.className="section svelte-189pkg1",x.className="section svelte-189pkg1",s.className="control-panel svelte-189pkg1",c.className="wrapper svelte-189pkg1"},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s),w._mount(i,null),Object(r.d)(n,s),Object(r.d)(a,s),Object(r.d)(l,a),Object(r.d)(f,s),Object(r.d)(j,s),E._mount(j,null),Object(r.d)(b,s),Object(r.d)(O,s),Object(r.d)(d,O),Object(r.d)(v,s),Object(r.d)(m,s),Object(r.d)(y,m),C.m(y,null),Object(r.d)(_,s),Object(r.d)(x,s),V._mount(x,null),Object(r.d)($,c),z&&(Object(r.d)(k||(k=Object(r.l)()),c),Object(r.d)(z,c))},p(c,r){B!==(B=N(e=r))&&(C.d(1),(C=B(t,e)).c(),C.m(y,null))},d(t){t&&Object(r.r)(c),w.destroy(),Object(r.C)(l,"click",D),E.destroy(),Object(r.C)(d,"click",I),C.d(),Object(r.C)(y,"click",T),V.destroy(),z&&Object(r.A)(k,z)}}}(this,this._state),this.root._oncreate.push(()=>{(function(){this.store.set({stopped:!1}),setTimeout(t=>t.fire("init"),200,this)}).call(this),this.fire("update",{changed:Object(r.f)({},this._state),current:this._state})}),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor),this._lock=!0,Object(r.h)(this._beforecreate),Object(r.h)(this._oncreate),Object(r.h)(this._aftercreate),this._lock=!1}}Object(r.e)(v.prototype,r.z);e.a=v},function(t,e,c){"use strict";var r=c(0);function s(t,e){var c,s,i,n,o=e.key,a=e.value;return{c(){c=Object(r.m)("li"),s=Object(r.p)(o),i=Object(r.p)(": "),n=Object(r.p)(a),this.h()},l(t){c=Object(r.j)(t,"LI",{class:!0},!1);var e=Object(r.i)(c);s=Object(r.k)(e,o),i=Object(r.k)(e,": "),n=Object(r.k)(e,a),e.forEach(r.r),this.h()},h(){c.className="svelte-e73a0l"},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,c),Object(r.d)(n,c)},p(t,e){t.els&&o!==(o=e.key)&&(s.data=o),t.els&&a!==(a=e.value)&&(n.data=a)},d(t){t&&Object(r.r)(c)}}}function i(t,e,c){const r=Object.create(t);return r.key=e[c][0],r.value=e[c][1],r.each_value=e,r.each_index=c,r}function n(t){if(Object(r.v)(this,t),this._state=Object(r.e)({els:[]},t.data),this._recompute({elements:1},this._state),this._intro=!0,document.getElementById("svelte-e73a0l-style")||function(){var t=Object(r.m)("style");t.id="svelte-e73a0l-style",t.textContent="ul.svelte-e73a0l{list-style:none}li.svelte-e73a0l{float:left;padding-right:2em}",Object(r.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,n=e.els,o=[],a=0;a<n.length;a+=1)o[a]=s(0,i(e,n,a));return{c(){c=Object(r.m)("ul");for(var t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){c=Object(r.j)(t,"UL",{class:!0},!1);for(var e=Object(r.i)(c),s=0;s<o.length;s+=1)o[s].l(e);e.forEach(r.r),this.h()},h(){c.className="svelte-e73a0l"},m(t,e){Object(r.w)(c,t,e);for(var s=0;s<o.length;s+=1)o[s].m(c,null)},p(t,e){if(t.els){n=e.els;for(var r=0;r<n.length;r+=1){const a=i(e,n,r);o[r]?o[r].p(t,a):(o[r]=s(0,a),o[r].c(),o[r].m(c,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){t&&Object(r.r)(c),Object(r.q)(o,t)}}}(0,this._state),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor)}}Object(r.e)(n.prototype,r.z),n.prototype._recompute=function(t,e){t.elements&&this._differs(e.els,e.els=function({elements:t}){return Object.entries(t)}(e))&&(t.els=!0)};var o=n;function a(t,e){return e<t.length?t[e]:t[0]}function l(t,e){var c,s,i,n,o,l;return{c(){c=Object(r.o)("g"),s=Object(r.o)("use"),this.h()},l(t){c=Object(r.j)(t,"g",{transform:!0},!0);var e=Object(r.i)(c);s=Object(r.j)(e,"use",{x:!0,y:!0,href:!0,fill:!0},!0),Object(r.i)(s).forEach(r.r),e.forEach(r.r),this.h()},h(){s._svelte={component:t,ctx:e},Object(r.c)(s,"click",f),Object(r.D)(s,"x",i=e.f.x*e.cx*e.$size),Object(r.D)(s,"y",n=e.f.y*e.cy*e.$size),Object(r.D)(s,"href","#rectangle"),Object(r.D)(s,"fill",o=a(e.$statecolors,e.f.v)),Object(r.D)(c,"transform",l="matrix(2,0,0,2,"+e.f.x+","+e.f.y+")")},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c)},p(t,e){s._svelte.ctx=e,(t.field||t.cx||t.$size)&&i!==(i=e.f.x*e.cx*e.$size)&&Object(r.D)(s,"x",i),(t.field||t.cy||t.$size)&&n!==(n=e.f.y*e.cy*e.$size)&&Object(r.D)(s,"y",n),(t.$statecolors||t.field)&&o!==(o=a(e.$statecolors,e.f.v))&&Object(r.D)(s,"fill",o),t.field&&l!==(l="matrix(2,0,0,2,"+e.f.x+","+e.f.y+")")&&Object(r.D)(c,"transform",l)},d(t){t&&Object(r.r)(c),Object(r.C)(s,"click",f)}}}function h(t,e,c){const r=Object.create(t);return r.f=e[c],r.each_value=e,r.i=c,r}function f(t){const{component:e,ctx:c}=this._svelte;e.fire("cell",{x:c.f.x,y:c.f.y,s:c.$statecolors.length})}function j(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["size","x","y","statecolors"]),t.data),this.store._add(this,["size","x","y","statecolors"]),this._recompute({$size:1,$x:1,$y:1},this._state),this._intro=!0,this._handlers.destroy=[r.B],document.getElementById("svelte-1kbt9hu-style")||function(){var t=Object(r.m)("style");t.id="svelte-1kbt9hu-style",t.textContent="svg.svelte-1kbt9hu{width:100%;height:100%;border:1px solid white}",Object(r.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,s,i,n,o,a,f,j=e.field,b=[],O=0;O<j.length;O+=1)b[O]=l(t,h(e,j,O));return{c(){c=Object(r.o)("svg"),s=Object(r.o)("defs"),i=Object(r.o)("rect"),a=Object(r.o)("g");for(var t=0;t<b.length;t+=1)b[t].c();this.h()},l(t){c=Object(r.j)(t,"svg",{width:!0,height:!0,viewBox:!0,class:!0},!0);var e=Object(r.i)(c);s=Object(r.j)(e,"defs",{},!0);var n=Object(r.i)(s);i=Object(r.j)(n,"rect",{id:!0,width:!0,height:!0,"stroke-opacity":!0,stroke:!0},!0),Object(r.i)(i).forEach(r.r),n.forEach(r.r),a=Object(r.j)(e,"g",{},!0);for(var o=Object(r.i)(a),l=0;l<b.length;l+=1)b[l].l(o);o.forEach(r.r),e.forEach(r.r),this.h()},h(){Object(r.D)(i,"id","rectangle"),Object(r.D)(i,"width",n=e.cx*e.$size),Object(r.D)(i,"height",o=e.cy*e.$size),Object(r.D)(i,"stroke-opacity","0.2"),Object(r.D)(i,"stroke","#efefef"),Object(r.D)(c,"width","100%"),Object(r.D)(c,"height","100%"),Object(r.D)(c,"viewBox",f="0 0 "+e.x+" "+e.y),Object(r.D)(c,"class","svelte-1kbt9hu")},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s),Object(r.d)(a,c);for(var n=0;n<b.length;n+=1)b[n].m(a,null)},p(e,s){if((e.cx||e.$size)&&n!==(n=s.cx*s.$size)&&Object(r.D)(i,"width",n),(e.cy||e.$size)&&o!==(o=s.cy*s.$size)&&Object(r.D)(i,"height",o),e.field||e.cx||e.$size||e.cy||e.$statecolors){j=s.field;for(var O=0;O<j.length;O+=1){const c=h(s,j,O);b[O]?b[O].p(e,c):(b[O]=l(t,c),b[O].c(),b[O].m(a,null))}for(;O<b.length;O+=1)b[O].d(1);b.length=j.length}(e.x||e.y)&&f!==(f="0 0 "+s.x+" "+s.y)&&Object(r.D)(c,"viewBox",f)},d(t){t&&Object(r.r)(c),Object(r.q)(b,t)}}}(this,this._state),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor)}}Object(r.e)(j.prototype,r.z),j.prototype._recompute=function(t,e){(t.$size||t.$x)&&this._differs(e.x,e.x=function({$size:t,$x:e}){return t*e*100}(e))&&(t.x=!0),(t.$size||t.$y)&&this._differs(e.y,e.y=function({$size:t,$y:e}){return t*e*100}(e))&&(t.y=!0)};var b=j,O=c(2);const{scale:d}=O.f;function u(t,e){return e<t.length?t[e]:t[0]}function p(t,e){var c,s,i,n,o;return{c(){c=Object(r.o)("g"),s=Object(r.o)("use"),this.h()},l(t){c=Object(r.j)(t,"g",{transform:!0},!0);var e=Object(r.i)(c);s=Object(r.j)(e,"use",{href:!0,fill:!0,x:!0,y:!0},!0),Object(r.i)(s).forEach(r.r),e.forEach(r.r),this.h()},h(){s._svelte={component:t,ctx:e},Object(r.c)(s,"click",v),Object(r.D)(s,"href","#hexagon"),Object(r.D)(s,"fill",i=u(e.$statecolors,e.f.v)),Object(r.D)(s,"x",0),Object(r.D)(s,"y",n=e.f.x%2==1?6.66*e.$size:50*e.$size),Object(r.D)(c,"transform",o="matrix(1,0,0,1,"+75*e.f.x*e.$size+","+86.66*e.f.y*e.$size+")")},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c)},p(t,e){s._svelte.ctx=e,(t.$statecolors||t.field)&&i!==(i=u(e.$statecolors,e.f.v))&&Object(r.D)(s,"fill",i),(t.field||t.$size)&&n!==(n=e.f.x%2==1?6.66*e.$size:50*e.$size)&&Object(r.D)(s,"y",n),(t.field||t.$size)&&o!==(o="matrix(1,0,0,1,"+75*e.f.x*e.$size+","+86.66*e.f.y*e.$size+")")&&Object(r.D)(c,"transform",o)},d(t){t&&Object(r.r)(c),Object(r.C)(s,"click",v)}}}function g(t,e,c){const r=Object.create(t);return r.f=e[c],r.each_value=e,r.i=c,r}function v(t){const{component:e,ctx:c}=this._svelte;e.fire("cell",{x:c.f.x,y:c.f.y,s:c.$statecolors.length})}function m(t){if(Object(r.v)(this,t),this._state=Object(r.e)(Object(r.e)(this.store._init(["size","x","y","statecolors"]),{field:[],hexagon:d()}),t.data),this.store._add(this,["size","x","y","statecolors"]),this._recompute({$size:1,$x:1,$y:1},this._state),this._intro=!0,this._handlers.destroy=[r.B],document.getElementById("svelte-1kbt9hu-style")||function(){var t=Object(r.m)("style");t.id="svelte-1kbt9hu-style",t.textContent="svg.svelte-1kbt9hu{width:100%;height:100%;border:1px solid white}",Object(r.d)(t,document.head)}(),this._fragment=function(t,e){for(var c,s,i,n,o,a=e.field,l=[],h=0;h<a.length;h+=1)l[h]=p(t,g(e,a,h));return{c(){c=Object(r.o)("svg"),s=Object(r.o)("defs"),i=Object(r.o)("polygon"),n=Object(r.o)("g");for(var t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){c=Object(r.j)(t,"svg",{width:!0,height:!0,viewBox:!0,class:!0},!0);var e=Object(r.i)(c);s=Object(r.j)(e,"defs",{},!0);var o=Object(r.i)(s);i=Object(r.j)(o,"polygon",{id:!0,points:!0,opacity:!0,"stroke-opacity":!0,stroke:!0},!0),Object(r.i)(i).forEach(r.r),o.forEach(r.r),n=Object(r.j)(e,"g",{transform:!0},!0);for(var a=Object(r.i)(n),h=0;h<l.length;h+=1)l[h].l(a);a.forEach(r.r),e.forEach(r.r),this.h()},h(){Object(r.D)(i,"id","hexagon"),Object(r.D)(i,"points",e.hexagon),Object(r.D)(i,"opacity","1"),Object(r.D)(i,"stroke-opacity","0.2"),Object(r.D)(i,"stroke","#efefef"),Object(r.D)(n,"transform","matrix(1.35,0,0,1.195,0,0)"),Object(r.D)(c,"width","100%"),Object(r.D)(c,"height","100%"),Object(r.D)(c,"viewBox",o="0 8 "+e.x+" "+e.y),Object(r.D)(c,"class","svelte-1kbt9hu")},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s),Object(r.d)(n,c);for(var o=0;o<l.length;o+=1)l[o].m(n,null)},p(e,s){if(e.hexagon&&Object(r.D)(i,"points",s.hexagon),e.field||e.$size||e.$statecolors){a=s.field;for(var h=0;h<a.length;h+=1){const c=g(s,a,h);l[h]?l[h].p(e,c):(l[h]=p(t,c),l[h].c(),l[h].m(n,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=a.length}(e.x||e.y)&&o!==(o="0 8 "+s.x+" "+s.y)&&Object(r.D)(c,"viewBox",o)},d(t){t&&Object(r.r)(c),Object(r.q)(l,t)}}}(this,this._state),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor)}}Object(r.e)(m.prototype,r.z),m.prototype._recompute=function(t,e){t.$size&&this._differs(e.hexagon,e.hexagon=function({$size:t}){return d(t)}(e))&&(t.hexagon=!0),(t.$size||t.$x)&&this._differs(e.x,e.x=function({$size:t,$x:e}){return 100*t*e}(e))&&(t.x=!0),(t.$size||t.$y)&&this._differs(e.y,e.y=function({$size:t,$y:e}){return 100*t*e}(e))&&(t.y=!0)};var y=m,_={cell({x:t,y:e,s:c}){const{field:r}=this.store.get(),s=Object(O.g)(r),i=`${t}x${e}`;s[i]=(s[i]+1)%c,this.store.set({field:Object(O.d)(s)})}};function x(t,e){var c={cx:"86.66",cy:"100",field:e.$field},r=new y({root:t.root,store:t.store,data:c});return r.on("cell",function(e){t.cell(e)}),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var c={};t.$field&&(c.field=e.$field),r._set(c)},d(t){r.destroy(t)}}}function $(t,e){var c={cx:"50",cy:"50",field:e.$field},r=new b({root:t.root,store:t.store,data:c});return r.on("cell",function(e){t.cell(e)}),{c(){r._fragment.c()},l(t){r._fragment.l(t)},m(t,e){r._mount(t,e)},p(t,e){var c={};t.$field&&(c.field=e.$field),r._set(c)},d(t){r.destroy(t)}}}function k(t,e){var c,s,i,n,o,a,l=e._s;return{c(){c=Object(r.m)("li"),s=Object(r.m)("span"),i=Object(r.p)("["),n=Object(r.p)(l),o=Object(r.p)("]"),this.h()},l(t){c=Object(r.j)(t,"LI",{class:!0},!1);var e=Object(r.i)(c);s=Object(r.j)(e,"SPAN",{style:!0},!1);var a=Object(r.i)(s);i=Object(r.k)(a,"["),n=Object(r.k)(a,l),o=Object(r.k)(a,"]"),a.forEach(r.r),e.forEach(r.r),this.h()},h(){s.style.cssText=a=`color: ${e._s};`,c.className="svelte-zeaulo"},m(t,e){Object(r.w)(c,t,e),Object(r.d)(s,c),Object(r.d)(i,s),Object(r.d)(n,s),Object(r.d)(o,s)},p(t,e){t.$statecolors&&l!==(l=e._s)&&(n.data=l),t.$statecolors&&a!==(a=`color: ${e._s};`)&&(s.style.cssText=a)},d(t){t&&Object(r.r)(c)}}}function z(t,e){for(var c,s=e.$statecolors,i=[],n=0;n<s.length;n+=1)i[n]=k(0,w(e,s,n));return{c(){c=Object(r.m)("ul");for(var t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){c=Object(r.j)(t,"UL",{class:!0},!1);for(var e=Object(r.i)(c),s=0;s<i.length;s+=1)i[s].l(e);e.forEach(r.r),this.h()},h(){c.className="svelte-zeaulo"},m(t,e){Object(r.w)(c,t,e);for(var s=0;s<i.length;s+=1)i[s].m(c,null)},p(t,e){if(t.$statecolors){s=e.$statecolors;for(var r=0;r<s.length;r+=1){const n=w(e,s,r);i[r]?i[r].p(t,n):(i[r]=k(0,n),i[r].c(),i[r].m(c,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(t){t&&Object(r.r)(c),Object(r.q)(i,t)}}}function w(t,e,c){const r=Object.create(t);return r._s=e[c],r.each_value=e,r._s_index=c,r}function D(t){if(Object(r.v)(this,t),this._state=Object(r.e)(this.store._init(["fieldtype","field","x","y","statecolors"]),t.data),this.store._add(this,["fieldtype","field","x","y","statecolors"]),this._intro=!0,this._handlers.destroy=[r.B],document.getElementById("svelte-zeaulo-style")||function(){var t=Object(r.m)("style");t.id="svelte-zeaulo-style",t.textContent="span.overview.svelte-zeaulo{width:10vw;color:violet;font-weight:700;font-size:0.5em}ul.svelte-zeaulo{font-weight:300;font-style:italic;list-style:none}li.svelte-zeaulo{display:block;float:left}.field-container.svelte-zeaulo{padding:0;width:100%;height:98%;overflow:hidden;box-sizing:content-box}",Object(r.d)(t,document.head)}(),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var c,s,i,n,a,l,h="hexagonal"===e.$fieldtype&&x(t,e),f="rectangular"===e.$fieldtype&&$(t,e),j={elements:{$x:e.$x,$y:e.$y,cells:e.$x*e.$y}},b=new o({root:t.root,store:t.store,data:j}),O=e.$statecolors&&z(0,e);return{c(){c=Object(r.m)("div"),h&&h.c(),s=Object(r.p)(" "),f&&f.c(),i=Object(r.p)("\n\n"),n=Object(r.m)("span"),b._fragment.c(),a=Object(r.p)("\n  "),l=Object(r.m)("div"),O&&O.c(),this.h()},l(t){c=Object(r.j)(t,"DIV",{class:!0},!1);var e=Object(r.i)(c);h&&h.l(e),s=Object(r.k)(e," "),f&&f.l(e),e.forEach(r.r),i=Object(r.k)(t,"\n\n"),n=Object(r.j)(t,"SPAN",{class:!0},!1);var o=Object(r.i)(n);b._fragment.l(o),a=Object(r.k)(o,"\n  "),l=Object(r.j)(o,"DIV",{},!1);var j=Object(r.i)(l);O&&O.l(j),j.forEach(r.r),o.forEach(r.r),this.h()},h(){c.className="field-container svelte-zeaulo",n.className="overview svelte-zeaulo"},m(t,e){Object(r.w)(c,t,e),h&&h.m(c,null),Object(r.d)(s,c),f&&f.m(c,null),Object(r.w)(i,t,e),Object(r.w)(n,t,e),b._mount(n,null),Object(r.d)(a,n),Object(r.d)(l,n),O&&O.m(l,null)},p(e,r){"hexagonal"===r.$fieldtype?h?h.p(e,r):((h=x(t,r)).c(),h.m(c,s)):h&&(h.d(1),h=null),"rectangular"===r.$fieldtype?f?f.p(e,r):((f=$(t,r)).c(),f.m(c,null)):f&&(f.d(1),f=null);var i={};(e.$x||e.$y)&&(i.elements={$x:r.$x,$y:r.$y,cells:r.$x*r.$y}),b._set(i),r.$statecolors?O?O.p(e,r):((O=z(0,r)).c(),O.m(l,null)):O&&(O.d(1),O=null)},d(t){t&&Object(r.r)(c),h&&h.d(),f&&f.d(),t&&(Object(r.r)(i),Object(r.r)(n)),b.destroy(),O&&O.d()}}}(this,this._state),this.root._oncreate.push(()=>{(function(){this.store.set({field:[],size:.5,x:8,y:8})}).call(this),this.fire("update",{changed:Object(r.f)({},this._state),current:this._state})}),t.target){var e=Object(r.i)(t.target);t.hydrate?this._fragment.l(e):this._fragment.c(),e.forEach(r.r),this._mount(t.target,t.anchor),this._lock=!0,Object(r.h)(this._beforecreate),Object(r.h)(this._oncreate),Object(r.h)(this._aftercreate),this._lock=!1}}Object(r.e)(D.prototype,r.z),Object(r.e)(D.prototype,_);e.a=D}]]);